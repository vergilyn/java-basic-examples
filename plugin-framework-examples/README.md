## plugin framework

- 理解插件化开发：<https://github.com/tiann/understand-plugin-framework>
- Hook机制之动态代理: <https://weishu.me/2016/01/28/understand-plugin-framework-proxy-hook/>

### PF4J, Plugin Framework for Java（star: 1.8k，长期维护中）
- <https://pf4j.org/>
- <https://github.com/pf4j/pf4j>
- <https://github.com/pf4j/pf4j-spring>

1. 貌似PF4J已经应用到主流项目中：gitlib，adobe-dremio处理hive；

2. **其实质就是 SPI**，但不是用 ServiceLoader实现的。
而是编译compile时，通过声明的 `org.pf4j.@Extension`和`org.pf4j.ExtensionPoint`自动生成了
```TEXT
# `target/classes/META-INF/extensions.idx`：
# Generated by PF4J
com.vergilyn.examples.plugin.WelcomeGreeting
```

#### PF4J 简单使用总结
##### 2022-07-27
因为本质是SPI并且结合demo代码案例，

1. 如果是`spring`项目，完全可以被`ApplicationEvent`或者`@Autowired List<Greeting>`替代。

2. 非`spring`项目，PF4J只是比SPI使用上稍微简单一点，也并没有很特别的优势。（可以推荐用PF4J。）

### apache common-discovery（废弃项目）
- <https://commons.apache.org/dormant/commons-discovery/>